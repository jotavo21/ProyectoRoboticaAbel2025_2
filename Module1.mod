MODULE Module1

    PERS tooldata Garra:=[TRUE,[[31.492,19.331,201.929],[0.915975615,-0.049950211,0.120590477,0.379409523]],[1,[0,0,1],[1,0,0,0],0,0,0]];
    CONST robtarget Target_BotellasNivel1:=[[51.157,447,984.204],[0.5,-0.5,0.5,0.5],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella1:=[[-123.843,697,928.204],[0.5,-0.5,0.5,0.5],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella2:=[[21.157,697,928.204],[0.5,-0.5,0.5,0.5],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella3:=[[196.157,697,928.204],[0.5,-0.5,0.5,0.5],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Home:=[[665.421295007,19.331,551.262627984],[0.353553391,0.30360318,0.85355339,0.232962913],[0,-1,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_rev1:=[[500.000014893,-110.000001203,750.000007231],[0.707106811,0.000000005,0.707106752,0.000000022],[-1,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_rev2:=[[600,-10,780],[0.707106781,0,0.707106781,0],[-1,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_rev3:=[[500.000024855,90.000007321,749.99998487],[0.707106797,0.000000002,0.707106766,0.000000016],[-1,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_rev4:=[[400,-10,780],[0.707106781,0,0.707106781,0],[-1,-2,1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella4:=[[-123.840025206,727.000028179,608.199998614],[0.499999998,-0.499999997,0.499999977,0.500000028],[1,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella5:=[[21.160010924,727.000033259,608.199995553],[0.499999994,-0.499999978,0.499999999,0.500000028],[0,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella6:=[[196.159971385,727.000038463,608.199991914],[0.500000017,-0.500000046,0.499999943,0.499999994],[0,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_BotellasNivel2:=[[51.160021665,447.00003,664.199975376],[0.499999996,-0.499999993,0.50000001,0.5],[0,-1,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Poner_Tapa:=[[632.900016103,324.099976984,560.199959394],[0.707106788,0.000000032,0.707106774,0.000000009],[-2,-2,-2,7],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Coct:=[[632.3,317.3,341.3],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Cocteleraprox:=[[493.9,317.3,341.3],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Jiger:=[[734.3,6.6,361.4],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_shot:=[[735.7,152.5,362.1],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Tapa:=[[632.600019729,-25.900001131,397.799973436],[0.70710678,0.00000003,0.707106783,0.000000015],[-1,-1,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_CoctAr:=[[493.9,317.3,514.3],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_JigAr:=[[767.1,168.9,431.2],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_shotAr:=[[735.700017041,152.500007967,492.100017348],[0.707106818,0.000000016,0.707106745,0.000000034],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_TapaAr:=[[632.600020312,-25.90000053,727.799975397],[0.382683434,0.000000024,0.923879532,0.000000038],[-1,0,-1,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_CAr:=[[632.3,317.3,514.3],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Poner_TapaA:=[[632.9,324.1,610.2],[0.707106781,0,0.707106781,0],[-2,-2,-2,7],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_JigVerter:=[[767.7,230.7,451.2],[0.5,0.5,0.5,0.5],[0,0,1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_JigArTOP:=[[717.1,168.9,521.2],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_JigArVerter:=[[767.1,168.9,451.2],[0.707106781,0,0.707106781,0],[0,0,-1,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella1Aprox:=[[-123.843,447,984.2],[0.5,-0.5,0.5,0.5],[1,-1,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella3Aprox:=[[196.157,447,984.204],[0.5,-0.5,0.5,0.5],[0,0,0,0],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella4Aprox:=[[-123.84,447,664.2],[0.5,-0.5,0.5,0.5],[1,0,-2,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];
    CONST robtarget Target_Botella6Aprox:=[[196.16,447,664.2],[0.5,-0.5,0.5,0.5],[0,-1,0,1],[9E+09,9E+09,9E+09,9E+09,9E+09,9E+09]];

    PROC main()
        RESET DO_04;
        Path_Home;
        Path_Botella1;
        Path_Botella4;
        Path_Botella5;
        Path_Botella6;
        Path_Home;
    ENDPROC
    PROC Path_10()
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella3,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
!!        WaitTime 2;
!!        SET DO_04;
!!        WaitTime 2;
!       MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_Botella1,v100,z10,Garra\WObj:=wobj0;
!        WaitTime 2;
!        RESET DO_04;
!        WaitTime 2;
!        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_Botella2,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_Botella3,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
    ENDPROC
    PROC Path_Home()
        MoveJ Target_Home,v100,z10,Garra\WObj:=wobj0;
        !MoveJ Target_rev3,v100,z10,Garra\WObj:=wobj0;
        !MoveC Target_rev4,Target_rev1 ,v100,z10,Garra\WObj:=wobj0;
        
    ENDPROC
    PROC Path_Batir()
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella3,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        SET DO_04;
        WaitTime 2;
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_rev1,v100,z10,Garra\WObj:=wobj0;
        FOR i FROM 1 TO 5 DO
!            !MoveJ Target_rev1,v100,z10,Garra\WObj:=wobj0;
!            MoveJ Target_rev2,v100,z10,Garra\WObj:=wobj0;
!            MoveJ Target_rev3,v100,z10,Garra\WObj:=wobj0;
!            MoveJ Target_rev4,v100,z10,Garra\WObj:=wobj0;
            MoveC Target_rev2,Target_rev3 ,v100,z10,Garra\WObj:=wobj0;
            MoveC Target_rev4,Target_rev1 ,v100,z10,Garra\WObj:=wobj0;
        ENDFOR
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella1,v100,z10,Garra\WObj:=wobj0;
        RESET DO_04;
        WaitTime 2;
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;

    ENDPROC
    PROC Path_20()
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella4,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella5,v100,z10,Garra\WObj:=wobj0;
        WaitTime 4;
        MoveJ Target_Botella6,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;        
!        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_Botella4,v100,z10,Garra\WObj:=wobj0;
!!        WaitTime 2;
!!        SET DO_04;
!!        WaitTime 2;
!        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_Botella5,v100,z10,Garra\WObj:=wobj0;
!!        WaitTime 2;
!!        RESET DO_04;
!!        WaitTime 2;
!        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
!        MoveJ Target_Botella6,v100,z10,Garra\WObj:=wobj0;
!        MoveL Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
    ENDPROC
    PROC Path_prueba()
        
        MoveL Poner_TapaA,v1000,z100,Garra\WObj:=wobj0;
        MoveJ Target_Tapa,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        SET DO_04;
        WaitTime 2;
        MoveJ Target_TapaAr,v100,z10,Garra\WObj:=wobj0;
        MoveJ Poner_TapaA,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        RESET DO_04;
        WaitTime 2;
        MoveJ Target_TapaAr,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_JigAr,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_Jiger,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        SET DO_04;
        WaitTime 2;
        MoveL Target_JigAr,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_Jiger,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        RESET DO_04;
        WaitTime 2;
        MoveL Target_JigAr,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_shotAr,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_shot,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        SET DO_04;
        WaitTime 2;
        MoveL Target_shotAr,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_shot,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        RESET DO_04;
        WaitTime 2;
        MoveL Target_shotAr,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_CoctAr,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Cocteleraprox,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_Coct,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        SET DO_04;
        WaitTime 2;
        MoveL Target_CAr,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_Coct,v100,z10,Garra\WObj:=wobj0;
        WaitTime 2;
        RESET DO_04;
        WaitTime 2;
        MoveL Target_Cocteleraprox,v100,z10,Garra\WObj:=wobj0;

    ENDPROC
    PROC Path_Verter()
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveJ Target_JigArTOP,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_JigArVerter,v50,z10,Garra\WObj:=wobj0;
        MoveJ Target_JigVerter,v50,z10,Garra\WObj:=wobj0;
        MoveJ Target_JigArVerter,v50,z10,Garra\WObj:=wobj0;
        MoveJ Target_JigArTOP,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        



       

    ENDPROC
    PROC Path_Botella1()
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella1Aprox,v100,z10,Garra\WObj:=wobj0;
        MoveL Target_Botella1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        SET DO_04;
        WaitTime 1;
        MoveJ Target_Botella1Aprox,v100,z10,Garra\WObj:=wobj0;
        Path_Verter;
        MoveJ Target_Botella1Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        RESET DO_04;
        WaitTime 1;
        MoveJ Target_Botella1Aprox,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;

    ENDPROC
    
    
    PROC Path_Botella2()
        
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        SET DO_04;
        WaitTime 1;
        Path_Verter;
        WaitTime 1;
        MoveL Target_Botella2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        RESET DO_04;
        WaitTime 1;
        
        ENDPROC
    PROC Path_Botella3()
        MoveJ Target_BotellasNivel1,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella3Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella3,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        SET DO_04;
        WaitTime 1;
        MoveJ Target_Botella3Aprox,v100,z10,Garra\WObj:=wobj0;
        Path_Verter;       
        MoveJ Target_Botella3Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella3,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        RESET DO_04;
        WaitTime 1;
    ENDPROC
    PROC Path_Botella4()
        
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella4Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella4,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        SET DO_04;
        WaitTime 1;
        MoveJ Target_Botella4Aprox,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        Path_Verter;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella4Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella4,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        RESET DO_04;
        WaitTime 1;
        MoveJ Target_Botella4Aprox,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;

    ENDPROC
    PROC Path_Botella5()
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella5,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        SET DO_04;
        WaitTime 1;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        Path_Verter;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella5,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        RESET DO_04;
        WaitTime 1;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;

    ENDPROC
    PROC Path_Botella6()
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella6Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella6,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        SET DO_04;
        WaitTime 1;
        MoveJ Target_Botella6Aprox,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        Path_Verter;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_Botella6Aprox,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        MoveL Target_Botella6,v100,z10,Garra\WObj:=wobj0;
        WaitTime 1;
        RESET DO_04;
        WaitTime 1;
        MoveJ Target_Botella6Aprox,v100,z10,Garra\WObj:=wobj0;
        MoveJ Target_BotellasNivel2,v100,z10,Garra\WObj:=wobj0;
    ENDPROC
ENDMODULE